@if (currentBoard(); as board) {
  <div cdkDropListGroup class="columns">
    @for (column of board.columns; track column.name; let i = $index) {
      <app-column [column]="column" [columnIndex]="i" (taskDrop)="onTaskDrop($event)" />
    } @empty {
      <div class="empty-state">
        <p class="empty-message">This board is empty. Create a new column to get started.</p>
        <button app-button (click)="onAddColumn()">+ Add New Column</button>
      </div>
    }
    @if (board.columns.length > 0) {
      <div class="new-column" (click)="onAddColumn()">+ New Column</div>
    }
  </div>
} @else {
  <p class="no-board">No board selected</p>
}
