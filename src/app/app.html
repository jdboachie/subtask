<app-sidebar
  [boards]="appState.boards()"
  [activeBoardIndex]="appState.currentBoardIndex()"
  [hidden]="sidebarHidden()"
  (boardSelect)="appState.selectBoard($event)"
  (createBoard)="onCreateBoard()"
  (hide)="sidebarHidden.set(true)"
/>

@if (sidebarHidden()) {
<button
  app-show-sidebar-button
  (click)="sidebarHidden.set(false)"
  aria-label="Show sidebar"
></button>
}

<div class="main-content" [class.sidebar-visible]="!sidebarHidden()">
  <app-header-bar
    [boardName]="appState.currentBoard().name"
    [sidebarHidden]="sidebarHidden()"
    [addTaskDisabled]="addTaskDisabled()"
    (addTask)="onAddTask()"
  />

  <main class="board-area"></main>
</div>

<router-outlet />
